<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Order </title>
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <style>
  body { font-family: Arial, sans-serif; background: #f0f2f5; margin: 0; padding: 20px; }
  .hidden { display: none; }
   .container { max-width: 1200px; margin: 0 auto; }
 
  h1, h2 { margin-top: 0; }
  input, select, button { padding: 10px; margin: 5px 0; border-radius: 5px; border: 1px solid #ccc; }
  button { cursor: pointer; }
  .btn { background: #007bff; color: #fff; border: none; }
  .btn-warning { background: #f39c12; color: #fff; }
  .stats-grid { display: flex; gap: 10px; margin-bottom: 20px; }
  .stat-card { background: #007bff; color: white; flex: 1; padding: 20px; border-radius: 10px; text-align: center; }
  table { width: 100%; border-collapse: collapse;table-layout: fixed; }
  th, td { padding: 10px; border-bottom: 1px solid #ddd; text-align: left;overflow: hidden; 
  text-overflow: ellipsis; word-wrap: break-word;}
  .status-badge { padding: 5px 10px; border-radius: 5px; color: #fff; font-weight: bold; text-transform: capitalize; }
  .state-card-color2{background: #f39c12;}
  .state-card-color3{background: #7f8c8d;}
  .state-card-color4{background: #2ecc71;}
  .state-card-color5{background: #c0392b;}
  .state-card-color6{background: #9b59b6;}
  .status-pending { background: #f39c12; }
  .status-processing { background: #3498db; }
  .status-shipped { background: #7f8c8d; }
  .status-delivered { background: #2ecc71; }
  .status-cancelled { background: #c0392b; }
  .status-onhold { background: #9b59b6; }
  .action-btn { padding: 5px 10px; margin-right: 5px; border-radius: 5px; border: none; color: #fff; cursor: pointer; }
  .edit-btn { background: #3498db; }
  .delete-btn { background: #e74c3c; }
  .view-btn { background: #7f8c8d; }
  .role-badge { padding: 5px 10px; border-radius: 5px; background: #007bff; color: #fff; margin-right: 10px; text-transform: capitalize; }
  .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
  





</style>
    </head>
    <body>

        <!-- Main Application -->
        <div id="mainApp">
            <div class="container">
                <div class="header">
                    <h1><i class="fas fa-shopping-cart"></i> Order
                        Management</h1>

                </div>

                <!-- Statistics -->
                <div class="stats-grid">
                    <div class="stat-card state-card-color1"><div
                            id="totalOrders">0</div><div>Total
                            Orders</div></div>
                    <div class="stat-card state-card-color2"><div
                            id="pendingOrders">0</div><div>Pending</div></div>
                    <div class="stat-card state-card-color3"><div
                            id="shippedOrders">0</div><div>Shipped</div></div>
                    <div class="stat-card state-card-color4"><div
                            id="deliveredOrders">0</div><div>Delivered</div></div>
                    <div class="stat-card state-card-color5"><div
                            id="deliveredOrders">0</div><div>Cancelled</div></div>
                    <div class="stat-card state-card-color6"><div
                            id="deliveredOrders">0</div><div>On Hold</div></div>
                </div>

                <!-- Add Order Form -->
                <div class="card">
                    <h2><i class="fas fa-plus-circle"></i> Add New Order</h2>
                    <form id="orderForm">
                        <input type="text" id="customerName"
                            placeholder="Customer Name" required>
                        <input type="email" id="customerEmail"
                            placeholder="Customer Email" required>
                        <input type="text" id="productName"
                            placeholder="Product Name" required>
                        <input type="number" id="quantity"
                            placeholder="Quantity" min="1" required>
                        <input type="number" id="price"
                            placeholder="Price per unit" min="0" step="0.01"
                            required>
                        <select id="status" required>
                            <option value="pending">Pending</option>
                            <option value="processing">Processing</option>
                            <option value="shipped">Shipped</option>
                            <option value="delivered">Delivered</option>
                            <option value="cancelled">Cancelled</option>
                            <option value="onhold">On Hold</option>
                        </select>
                        <button type="submit" class="btn"><i
                                class="fas fa-plus"></i> Add Order</button>
                    </form>
                </div>

                <!-- Orders Table -->
                <div class="card">
                    <h2><i class="fas fa-list"></i> Orders List</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>#</th><th>Customer</th><th>Email</th><th>Product</th><th>Qty</th><th>Price</th>
                                <th>Total</th><th>Status</th><th>Created</th><th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="ordersTable"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <script>
let orders = [], orderId = 1, currentUser=null, userRole=null, editingOrderId=null;



document.getElementById('orderForm').addEventListener('submit', handleOrderSubmit);
function handleOrderSubmit(e){
  e.preventDefault();
  const customerName=document.getElementById('customerName').value.trim();
  const customerEmail=document.getElementById('customerEmail').value.trim();
  const productName=document.getElementById('productName').value.trim();
  const quantity=parseInt(document.getElementById('quantity').value);
  const price=parseFloat(document.getElementById('price').value);
  const status=document.getElementById('status').value;
  if(!customerName || !customerEmail || !productName || !quantity || !price) { alert('Fill all fields'); return; }

  const order={id:editingOrderId||orderId++, customerName, customerEmail, productName, quantity, price, total:quantity*price, status, createdAt:new Date().toISOString()};
  if(editingOrderId){ 
    const index=orders.findIndex(o=>o.id===editingOrderId);
    orders[index]=order; editingOrderId=null;
    document.querySelector('#orderForm button').innerHTML='<i class="fas fa-plus"></i> Add Order';
  } else orders.push(order);

  document.getElementById('orderForm').reset();
  updateStats();
  renderOrders();
}   
function updateStats(){
  const total=orders.length;
  const pending=orders.filter(o=>o.status==='pending').length;
  const shipped=orders.filter(o=>o.status==='shipped').length;
  const delivered=orders.filter(o=>o.status==='delivered').length;
  document.getElementById('totalOrders').textContent=total;
  document.getElementById('pendingOrders').textContent=pending;
  document.getElementById('shippedOrders').textContent=shipped;
  document.getElementById('deliveredOrders').textContent=delivered;
}

function renderOrders(){
  const tableBody=document.getElementById('ordersTable');
  if(!orders.length){ tableBody.innerHTML='<tr><td colspan="10" style="text-align:center;">No orders found</td></tr>'; return; }
  tableBody.innerHTML=orders.map(o=>`
    <tr>
      <td>#${o.id}</td><td>${o.customerName}</td><td>${o.customerEmail}</td><td>${o.productName}</td><td>${o.quantity}</td>
      <td>$${o.price.toFixed(2)}</td><td>$${o.total.toFixed(2)}</td>
      <td><span class="status-badge status-${o.status}">${o.status}</span></td>
      <td>${new Date(o.createdAt).toLocaleDateString()}</td>
      <td>
        <button class="action-btn edit-btn" onclick="editOrder(${o.id})"><i class="fas fa-edit"></i> Edit</button>
        ${userRole==='admin'?`<button class="action-btn delete-btn" onclick="deleteOrder(${o.id})"><i class="fas fa-trash"></i> Delete</button>`:''}
      </td>
    </tr>
  `).join('');
}

function editOrder(id){
  const o=orders.find(x=>x.id===id);
  if(!o) return;
  document.getElementById('customerName').value=o.customerName;
  document.getElementById('customerEmail').value=o.customerEmail;
  document.getElementById('productName').value=o.productName;
  document.getElementById('quantity').value=o.quantity;
  document.getElementById('price').value=o.price;
  document.getElementById('status').value=o.status;
  editingOrderId=id;
  document.querySelector('#orderForm button').innerHTML='<i class="fas fa-save"></i> Update Order';
}

function deleteOrder(id){
  if(userRole!=='admin'){ alert('Only admin can delete orders'); return; }
  orders=orders.filter(o=>o.id!==id);
  updateStats(); renderOrders();
}
</script>
    </body>
</html>
